{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { wrapError } from \"./util.js\";\nimport { streamToText } from \"./readableStreamUtils.js\";\nexport async function getStream(response) {\n  const {\n    body,\n    status\n  } = await response.asBrowserStream();\n  if (status !== \"200\" && body !== undefined) {\n    const text = await streamToText(body);\n    throw wrapError(() => JSON.parse(text).error, \"Error parsing response body\");\n  }\n  if (!body) throw new Error(\"No stream found in response. Did you enable the stream option?\");\n  return body;\n}","map":{"version":3,"names":["wrapError","streamToText","getStream","response","body","status","asBrowserStream","undefined","text","JSON","parse","error","Error"],"sources":["/workspaces/codespaces-blank/jupyter_react/node_modules/@azure/openai/src/api/getSSEs.browser.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\n/**\n * THIS IS AN AUTO-GENERATED FILE - DO NOT EDIT!\n *\n * Any changes you make here may be lost.\n *\n * If you need to make changes, please do so in the original source file, \\{project-root\\}/sources/custom\n */\n\nimport { StreamableMethod } from \"@azure-rest/core-client\";\nimport { wrapError } from \"./util.js\";\nimport { streamToText } from \"./readableStreamUtils.js\";\n\nexport async function getStream<TResponse>(\n  response: StreamableMethod<TResponse>,\n): Promise<ReadableStream<Uint8Array>> {\n  const { body, status } = await response.asBrowserStream();\n  if (status !== \"200\" && body !== undefined) {\n    const text = await streamToText(body);\n    throw wrapError(() => JSON.parse(text).error, \"Error parsing response body\");\n  }\n\n  if (!body) throw new Error(\"No stream found in response. Did you enable the stream option?\");\n  return body;\n}\n"],"mappings":"AAAA;AACA;AAWA,SAASA,SAAS,QAAQ,WAAW;AACrC,SAASC,YAAY,QAAQ,0BAA0B;AAEvD,OAAO,eAAeC,SAASA,CAC7BC,QAAqC;EAErC,MAAM;IAAEC,IAAI;IAAEC;EAAM,CAAE,GAAG,MAAMF,QAAQ,CAACG,eAAe,EAAE;EACzD,IAAID,MAAM,KAAK,KAAK,IAAID,IAAI,KAAKG,SAAS,EAAE;IAC1C,MAAMC,IAAI,GAAG,MAAMP,YAAY,CAACG,IAAI,CAAC;IACrC,MAAMJ,SAAS,CAAC,MAAMS,IAAI,CAACC,KAAK,CAACF,IAAI,CAAC,CAACG,KAAK,EAAE,6BAA6B,CAAC;EAC9E;EAEA,IAAI,CAACP,IAAI,EAAE,MAAM,IAAIQ,KAAK,CAAC,gEAAgE,CAAC;EAC5F,OAAOR,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}